!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{AL2A:function(n,r,o){"use strict";o.r(r),o.d(r,"SettingModule",(function(){return dt}));var i=o("2kYt"),c=o("DSWM"),a=o("sEIs"),s=o("RRjC"),l=o("nIj0"),d=o("sN6X"),m=o("ddJ1"),p=o("x8Mb"),u=o("PIN6"),f=o("cHUu"),v=o("mOXJ"),h=o("UH/6"),g=o("EM62"),y=o("s2Ay"),F=o("cc8N"),w=o("us+Q"),P=o("OSFB"),C=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(e){i(e)}}function a(t){try{s(r.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}s((r=r.apply(t,e||[])).next())}))},O=["intlTelInput"];function b(t,e){if(1&t&&(g.Pc(0,"p"),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t){var n=g.Yc().$implicit;g.wc(1),g.yd(g.ad(2,1,"form.label."+n))}}function I(t,e){if(1&t&&(g.Pc(0,"p"),g.xd(1),g.Zc(2,"changeLanguage"),g.Oc()),2&t){var n,r=g.Yc().$implicit,o=g.Yc(2);g.wc(1),g.zd(" ",g.ad(2,1,null==(n=o.getAdditionalProperty(r))?null:n.label),"")}}function x(t,e){1&t&&(g.Pc(0,"p",38),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.zd("",g.ad(2,1,"form.required")," "))}function A(t,e){if(1&t&&(g.Kc(0,"input",39),g.Zc(1,"translate")),2&t){var n=g.Yc().$implicit;g.fd("formControlName",n)("id",n)("placeholder",g.ad(1,3,"form.placeholder."+n))}}function N(t,e){if(1&t&&(g.Pc(0,"option",42),g.xd(1),g.Zc(2,"changeLanguage"),g.Oc()),2&t){var n=e.$implicit;g.fd("value",n.branchCode),g.wc(1),g.zd(" ",g.ad(2,2,n.name),"")}}function k(t,e){if(1&t){var n=g.Qc();g.Pc(0,"select",40),g.Wc("change",(function(){return g.pd(n),g.Yc(3).changePosList()})),g.Pc(1,"option",41),g.xd(2),g.Zc(3,"translate"),g.Oc(),g.vd(4,N,3,4,"option",16),g.Oc()}if(2&t){var r=g.Yc().$implicit,o=g.Yc(2);g.fd("formControlName",r),g.wc(2),g.yd(g.ad(3,3,"setting.unselected")),g.wc(2),g.fd("ngForOf",o.theaters)}}function Z(t,e){if(1&t&&(g.Pc(0,"option",42),g.xd(1),g.Oc()),2&t){var n=e.$implicit;g.fd("value",n.id),g.wc(1),g.yd(n.name)}}function S(t,e){if(1&t&&(g.Pc(0,"select",43),g.Pc(1,"option",41),g.xd(2),g.Zc(3,"translate"),g.Oc(),g.vd(4,Z,2,2,"option",16),g.Oc()),2&t){var n=g.Yc().$implicit,r=g.Yc(2);g.fd("formControlName",n),g.wc(2),g.yd(g.ad(3,3,"setting.unselected")),g.wc(2),g.fd("ngForOf",r.posList)}}function T(t,e){if(1&t&&(g.Kc(0,"input",44),g.Zc(1,"translate")),2&t){var n=g.Yc().$implicit;g.fd("formControlName",n)("id",n)("placeholder",g.ad(1,3,"form.placeholder."+n))}}var L=function(t){return[t]},Y=function(t,e){return[t,e]};function q(t,e){if(1&t&&g.Kc(0,"ngx-intl-tel-input",45,46),2&t){var n=g.Yc(3);g.fd("preferredCountries",g.gd(11,L,n.CountryISO.Japan))("enableAutoCountrySelect",!1)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",g.hd(13,Y,n.SearchCountryField.Iso2,n.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",n.CountryISO.Japan)("maxLength",15)("tooltipField",n.TooltipLabel.Name)("phoneValidation",!0)("separateDialCode",!1)}}function E(t,e){if(1&t&&(g.Pc(0,"select",47),g.Pc(1,"option",41),g.xd(2),g.Zc(3,"translate"),g.Oc(),g.Pc(4,"option",48),g.xd(5),g.Zc(6,"translate"),g.Oc(),g.Pc(7,"option",49),g.xd(8),g.Zc(9,"translate"),g.Oc(),g.Oc()),2&t){var n=g.Yc().$implicit;g.fd("formControlName",n)("id",n),g.wc(2),g.yd(g.ad(3,5,"form.option.unselected")),g.wc(3),g.yd(g.ad(6,7,"form.option.man")),g.wc(3),g.yd(g.ad(9,9,"form.option.woman"))}}function z(t,e){if(1&t&&g.Kc(0,"textarea",50),2&t){var n=g.Yc().$implicit;g.fd("formControlName",n)("id",n)}}function R(t,e){1&t&&(g.Pc(0,"p",53),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.zd(" ",g.ad(2,1,"form.validation.required")," "))}var V=function(t){return{value:t}};function $(t,e){if(1&t&&(g.Pc(0,"p",53),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t){var n=g.Yc(2).$implicit,r=g.Yc(2);g.wc(1),g.zd(" ",g.bd(2,1,"form.validation.maxlength",g.gd(4,V,null==r.settingForm.controls[n].errors?null:r.settingForm.controls[n].errors.maxlength.requiredLength))," ")}}function j(t,e){1&t&&(g.Pc(0,"p",53),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.zd(" ",g.ad(2,1,"form.validation.email")," "))}function J(t,e){1&t&&(g.Pc(0,"p",53),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.zd(" ",g.ad(2,1,"form.validation.telephone")," "))}function B(t,e){1&t&&(g.Pc(0,"p",53),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.zd(" ",g.ad(2,1,"form.validation.fullKana"),""))}function K(t,e){1&t&&(g.Pc(0,"p",53),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.zd(" ",g.ad(2,1,"form.validation.lowercaseLetters"),""))}function U(t,e){if(1&t&&(g.Pc(0,"div"),g.vd(1,B,3,3,"p",52),g.Zc(2,"async"),g.vd(3,K,3,3,"p",52),g.Zc(4,"async"),g.Oc()),2&t){var n,r,o=g.Yc(2).$implicit,i=g.Yc(2),c="ja"===(null==(n=g.ad(2,2,i.user))?null:n.language)&&(null==i.settingForm.controls[o].errors?null:i.settingForm.controls[o].errors.customPattern),a="ja"!==(null==(r=g.ad(4,4,i.user))?null:r.language)&&(null==i.settingForm.controls[o].errors?null:i.settingForm.controls[o].errors.customPattern);g.wc(1),g.fd("ngIf",c),g.wc(2),g.fd("ngIf",a)}}function D(t,e){if(1&t&&(g.Pc(0,"div",51),g.vd(1,R,3,3,"p",52),g.vd(2,$,3,6,"p",52),g.vd(3,j,3,3,"p",52),g.vd(4,J,3,3,"p",52),g.vd(5,U,5,6,"div",29),g.Oc()),2&t){var n=g.Yc().$implicit,r=g.Yc(2);g.wc(1),g.fd("ngIf",null==r.settingForm.controls[n].errors?null:r.settingForm.controls[n].errors.required),g.wc(1),g.fd("ngIf",null==r.settingForm.controls[n].errors?null:r.settingForm.controls[n].errors.maxlength),g.wc(1),g.fd("ngIf",null==r.settingForm.controls[n].errors?null:r.settingForm.controls[n].errors.email),g.wc(1),g.fd("ngIf",null==r.settingForm.controls[n].errors?null:r.settingForm.controls[n].errors.validatePhoneNumber),g.wc(1),g.fd("ngIf","familyName"===n||"givenName"===n)}}function G(t,e){if(1&t&&(g.Pc(0,"div",27),g.Pc(1,"div",13),g.Pc(2,"div",28),g.vd(3,b,3,3,"p",29),g.vd(4,I,3,3,"p",29),g.vd(5,x,3,3,"p",30),g.Oc(),g.Oc(),g.Pc(6,"div",14),g.vd(7,A,2,5,"input",31),g.vd(8,k,5,5,"select",32),g.vd(9,S,5,5,"select",33),g.vd(10,T,2,5,"input",34),g.vd(11,q,2,16,"ngx-intl-tel-input",35),g.vd(12,E,10,11,"select",36),g.vd(13,z,1,2,"textarea",37),g.vd(14,D,6,5,"div",19),g.Oc(),g.Oc()),2&t){var n,r=e.$implicit,o=g.Yc(2),i=null,c="theaterBranchCode"!==r&&"posId"!==r&&"email"!==r&&"telephone"!==r&&"gender"!==r&&"textarea"!==(null==(i=o.getAdditionalProperty(r))?null:i.inputType),a="textarea"===(null==(n=o.getAdditionalProperty(r))?null:n.inputType);g.wc(3),g.fd("ngIf",!o.getAdditionalProperty(r)),g.wc(1),g.fd("ngIf",o.getAdditionalProperty(r)),g.wc(1),g.fd("ngIf",o.isRequired(r)),g.wc(2),g.fd("ngIf",c),g.wc(1),g.fd("ngIf","theaterBranchCode"===r),g.wc(1),g.fd("ngIf","posId"===r),g.wc(1),g.fd("ngIf","email"===r),g.wc(1),g.fd("ngIf","telephone"===r),g.wc(1),g.fd("ngIf","gender"===r),g.wc(1),g.fd("ngIf",a),g.wc(1),g.fd("ngIf",o.settingForm.controls[r].invalid&&o.settingForm.controls[r].touched)}}function H(t,e){if(1&t&&(g.Pc(0,"option",42),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t){var n=e.$implicit;g.fd("value",n.connectionType),g.wc(1),g.zd(" ",g.ad(2,2,n.name),"")}}function Q(t,e){if(1&t){var n=g.Qc();g.Pc(0,"button",54),g.Wc("click",(function(){return g.pd(n),g.Yc(2).print()})),g.xd(1),g.Zc(2,"translate"),g.Oc()}2&t&&(g.wc(1),g.yd(g.ad(2,1,"setting.printer.testPrinting")))}function W(t,e){1&t&&(g.Pc(0,"p",53),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.zd(" ",g.ad(2,1,"form.validation.required"),""))}function M(t,e){if(1&t&&(g.Pc(0,"div",51),g.vd(1,W,3,3,"p",52),g.Oc()),2&t){var n=g.Yc(2);g.wc(1),g.fd("ngIf",null==n.settingForm.controls.printerIpAddress.errors?null:n.settingForm.controls.printerIpAddress.errors.required)}}function X(t,e){1&t&&(g.Pc(0,"p",53),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.zd(" ",g.ad(2,1,"form.validation.required"),""))}function _(t,e){if(1&t&&(g.Pc(0,"div",51),g.vd(1,X,3,3,"p",52),g.Oc()),2&t){var n=g.Yc(2);g.wc(1),g.fd("ngIf",null==n.settingForm.controls.paymentCash.errors?null:n.settingForm.controls.paymentCash.errors.required)}}function tt(t,e){1&t&&(g.Pc(0,"p",53),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.zd(" ",g.ad(2,1,"form.validation.required"),""))}function et(t,e){if(1&t&&(g.Pc(0,"div",51),g.vd(1,tt,3,3,"p",52),g.Oc()),2&t){var n=g.Yc(2);g.wc(1),g.fd("ngIf",null==n.settingForm.controls.paymentCreditcard.errors?null:n.settingForm.controls.paymentCreditcard.errors.required)}}function nt(t,e){1&t&&(g.Pc(0,"p",53),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.zd(" ",g.ad(2,1,"form.validation.required"),""))}function rt(t,e){if(1&t&&(g.Pc(0,"div",51),g.vd(1,nt,3,3,"p",52),g.Oc()),2&t){var n=g.Yc(2);g.wc(1),g.fd("ngIf",null==n.settingForm.controls.paymentEmoney.errors?null:n.settingForm.controls.paymentEmoney.errors.required)}}function ot(t,e){1&t&&(g.Pc(0,"p",53),g.xd(1),g.Zc(2,"translate"),g.Oc()),2&t&&(g.wc(1),g.zd(" ",g.ad(2,1,"form.validation.required"),""))}function it(t,e){if(1&t&&(g.Pc(0,"div",51),g.vd(1,ot,3,3,"p",52),g.Oc()),2&t){var n=g.Yc(2);g.wc(1),g.fd("ngIf",null==n.settingForm.controls.paymentCode.errors?null:n.settingForm.controls.paymentCode.errors.required)}}function ct(t,e){if(1&t){var n=g.Qc();g.Pc(0,"form",9),g.Pc(1,"div",10),g.vd(2,G,15,11,"div",11),g.Pc(3,"div",12),g.Pc(4,"div",3),g.Pc(5,"p",13),g.xd(6),g.Zc(7,"translate"),g.Oc(),g.Pc(8,"div",14),g.Pc(9,"select",15),g.Wc("change",(function(){return g.pd(n),g.Yc().changePrinterType()})),g.vd(10,H,3,4,"option",16),g.Oc(),g.vd(11,Q,3,3,"button",17),g.Oc(),g.Oc(),g.Oc(),g.Pc(12,"div",12),g.Pc(13,"div",3),g.Pc(14,"p",13),g.xd(15),g.Zc(16,"translate"),g.Oc(),g.Pc(17,"div",14),g.Kc(18,"input",18),g.vd(19,M,2,1,"div",19),g.Pc(20,"p",20),g.xd(21),g.Zc(22,"translate"),g.Oc(),g.Oc(),g.Oc(),g.Oc(),g.Pc(23,"div",12),g.Pc(24,"div",21),g.Pc(25,"p",13),g.xd(26),g.Zc(27,"translate"),g.Oc(),g.Pc(28,"div",14),g.Pc(29,"div"),g.Pc(30,"p",22),g.xd(31),g.Zc(32,"translate"),g.Oc(),g.Kc(33,"input",23),g.vd(34,_,2,1,"div",19),g.Oc(),g.Pc(35,"div"),g.Pc(36,"p",22),g.xd(37),g.Zc(38,"translate"),g.Oc(),g.Kc(39,"input",24),g.vd(40,et,2,1,"div",19),g.Oc(),g.Pc(41,"div"),g.Pc(42,"p",22),g.xd(43),g.Zc(44,"translate"),g.Oc(),g.Kc(45,"input",25),g.vd(46,rt,2,1,"div",19),g.Oc(),g.Pc(47,"div"),g.Pc(48,"p",22),g.xd(49),g.Zc(50,"translate"),g.Oc(),g.Kc(51,"input",26),g.vd(52,it,2,1,"div",19),g.Oc(),g.Oc(),g.Oc(),g.Oc(),g.Oc(),g.Oc()}if(2&t){var r=g.Yc();g.fd("formGroup",r.settingForm),g.wc(2),g.fd("ngForOf",r.getProfileFormKeys()),g.wc(4),g.yd(g.ad(7,17,"setting.printer.label")),g.wc(4),g.fd("ngForOf",r.printers),g.wc(1),g.fd("ngIf",r.settingForm.controls.printerType.value&&r.settingForm.controls.printerType.value!==r.connectionType.None),g.wc(4),g.yd(g.ad(16,19,"setting.printer.ipAddress")),g.wc(4),g.fd("ngIf",r.settingForm.controls.printerIpAddress.invalid&&r.settingForm.controls.printerIpAddress.touched),g.wc(2),g.zd(" ",g.ad(22,21,"setting.printer.ipAddressDescription")," "),g.wc(5),g.yd(g.ad(27,23,"setting.payment.label")),g.wc(5),g.yd(g.ad(32,25,"setting.payment.cash.label")),g.wc(3),g.fd("ngIf",r.settingForm.controls.paymentCash.invalid&&r.settingForm.controls.paymentCash.touched),g.wc(3),g.yd(g.ad(38,27,"setting.payment.creditcard.label")),g.wc(3),g.fd("ngIf",r.settingForm.controls.paymentCreditcard.invalid&&r.settingForm.controls.paymentCreditcard.touched),g.wc(3),g.yd(g.ad(44,29,"setting.payment.emoney.label")),g.wc(3),g.fd("ngIf",r.settingForm.controls.paymentEmoney.invalid&&r.settingForm.controls.paymentEmoney.touched),g.wc(3),g.yd(g.ad(50,31,"setting.payment.code.label")),g.wc(3),g.fd("ngIf",r.settingForm.controls.paymentCode.invalid&&r.settingForm.controls.paymentCode.touched)}}var at=function(){function n(e,r,o,i,c,a,s){t(this,n),this.formBuilder=e,this.store=r,this.utilService=o,this.actionService=i,this.masterService=c,this.translate=a,this.router=s,this.printers=p.b.Util.Printer.printers,this.connectionType=p.b.Util.Printer.ConnectionType,this.viewType=p.b.Util.ViewType,this.environment=Object(u.a)(),this.SearchCountryField=m.e,this.TooltipLabel=m.f,this.CountryISO=m.a}var r,o,i;return r=n,(o=[{key:"ngOnInit",value:function(){return C(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.user=this.store.pipe(Object(d.m)(v.g)),this.error=this.store.pipe(Object(d.m)(v.a)),this.isLoading=this.store.pipe(Object(d.m)(v.b)),this.posList=[],this.theaters=[],t.prev=1,t.next=4,this.masterService.getTheaters();case 4:return this.theaters=t.sent,t.next=7,this.createSettlingForm();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0),this.router.navigate(["/error"]);case 12:setTimeout((function(){if(void 0!==e.intlTelInput){var t=e.intlTelInput.allCountries.find((function(t){return t.iso2===m.a.Japan}));void 0!==t&&(t.placeHolder=e.translate.instant("form.placeholder.telephone"))}}),0);case 13:case"end":return t.stop()}}),t,this,[[1,9]])})))}},{key:"createSettlingForm",value:function(){return C(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.environment.PROFILE,this.settingForm=this.formBuilder.group({theaterBranchCode:["",[l.q.required]],posId:[""],printerType:[p.b.Util.Printer.ConnectionType.None],printerIpAddress:[""],paymentCash:[""],paymentCreditcard:[""],paymentEmoney:[""],paymentCode:[""]}),e.forEach((function(t){var e=[];void 0!==t.required&&t.required&&e.push(l.q.required),void 0!==t.maxLength&&e.push(l.q.maxLength(t.maxLength)),void 0!==t.minLength&&e.push(l.q.minLength(t.minLength)),void 0!==t.pattern&&e.push(l.q.pattern(t.pattern)),"email"===t.key&&e.push(l.q.email),o.settingForm.addControl(t.key,new l.c(t.value,e))})),t.next=4,this.actionService.user.getData();case 4:void 0!==(n=t.sent).theater&&(this.settingForm.controls.theaterBranchCode.setValue(n.theater.branchCode),this.changePosList()),void 0!==n.pos&&this.settingForm.controls.posId.setValue(n.pos.id),void 0!==(r=n.customerContact)&&Object.keys(r).forEach((function(t){var e=r[t];void 0!==e&&void 0!==o.settingForm.controls[t]&&("telephone"!==t?o.settingForm.controls[t].setValue(e):o.settingForm.controls.telephone.setValue((new h.a).transform(e)))})),void 0!==n.printer&&(this.settingForm.controls.printerType.setValue(n.printer.connectionType),this.settingForm.controls.printerIpAddress.setValue(n.printer.ipAddress)),void 0!==n.payment&&void 0!==n.payment.cash&&this.settingForm.controls.paymentCash.setValue(n.payment.cash.ipAddress),void 0!==n.payment&&void 0!==n.payment.creditcard&&this.settingForm.controls.paymentCreditcard.setValue(n.payment.creditcard.ipAddress),void 0!==n.payment&&void 0!==n.payment.emoney&&this.settingForm.controls.paymentEmoney.setValue(n.payment.emoney.ipAddress),void 0!==n.payment&&void 0!==n.payment.code&&this.settingForm.controls.paymentCode.setValue(n.payment.code.ipAddress),console.log(this.settingForm);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"changePosList",value:function(){this.settingForm.controls.posId.setValue("");var t=this.settingForm.controls.theaterBranchCode.value;if(""!==t){var e=this.theaters.find((function(e){return e.branchCode===t}));this.posList=void 0!==e?void 0===e.hasPOS?[]:e.hasPOS:[]}else this.posList=[]}},{key:"onSubmit",value:function(){return C(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r,o,i,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object.keys(this.settingForm.controls).forEach((function(t){c.settingForm.controls[t].markAsTouched()})),!this.settingForm.invalid){t.next=4;break}this.utilService.openAlert({title:this.translate.instant("common.error"),body:this.translate.instant("setting.alert.validation")}),t.next=15;break;case 4:if(t.prev=4,e=this.settingForm.controls.theaterBranchCode.value,n=this.settingForm.controls.posId.value,void 0!==(r=this.theaters.find((function(t){return t.branchCode===e})))){t.next=8;break}throw new Error("theater not found").message;case 8:o=void 0===r.hasPOS?r.hasPOS:r.hasPOS.find((function(t){return t.id===n})),i={cash:""===this.settingForm.controls.paymentCash.value?void 0:{ipAddress:this.settingForm.controls.paymentCash.value},creditcard:""===this.settingForm.controls.paymentCreditcard.value?void 0:{ipAddress:this.settingForm.controls.paymentCreditcard.value},emoney:""===this.settingForm.controls.paymentEmoney.value?void 0:{ipAddress:this.settingForm.controls.paymentEmoney.value},code:""===this.settingForm.controls.paymentCode.value?void 0:{ipAddress:this.settingForm.controls.paymentCode.value}},this.actionService.user.updateAll({pos:o,theater:r,customerContact:{familyName:void 0===this.settingForm.controls.familyName?void 0:this.settingForm.controls.familyName.value,givenName:void 0===this.settingForm.controls.givenName?void 0:this.settingForm.controls.givenName.value,email:void 0===this.settingForm.controls.email?void 0:this.settingForm.controls.email.value,telephone:void 0===this.settingForm.controls.telephone?void 0:this.settingForm.controls.telephone.value.e164Number,age:void 0===this.settingForm.controls.age?void 0:this.settingForm.controls.age.value,address:void 0===this.settingForm.controls.address?void 0:this.settingForm.controls.address.value,gender:void 0===this.settingForm.controls.gender?void 0:this.settingForm.controls.gender.value},printer:{ipAddress:this.settingForm.controls.printerIpAddress.value,connectionType:this.settingForm.controls.printerType.value},payment:void 0!==i.cash||void 0!==i.creditcard||void 0!==i.emoney||void 0!==i.code?i:void 0}),this.utilService.openAlert({title:this.translate.instant("common.complete"),body:this.translate.instant("setting.alert.success")}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.error(t.t0);case 15:case"end":return t.stop()}}),t,this,[[4,12]])})))}},{key:"print",value:function(){return C(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={connectionType:this.settingForm.controls.printerType.value,ipAddress:this.settingForm.controls.printerIpAddress.value},t.prev=1,t.next=4,this.actionService.order.print({orders:[],printer:e});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),this.utilService.openAlert({title:this.translate.instant("common.error"),body:'\n                <p class="mb-4">'.concat(this.translate.instant("setting.alert.print"),'</p>\n                    <div class="p-3 bg-light-gray select-text">\n                    <code>').concat(t.t0,"</code>\n                </div>")});case 9:case"end":return t.stop()}}),t,this,[[1,6]])})))}},{key:"changePrinterType",value:function(){this.settingForm.controls.printerType.value===p.b.Util.Printer.ConnectionType.StarBluetooth&&this.settingForm.controls.printerIpAddress.setValue(this.translate.instant("setting.starBluetoothAddress"))}},{key:"isRequired",value:function(t){return"theaterBranchCode"===t||void 0!==this.environment.PROFILE.find((function(e){return e.key===t&&e.required}))}},{key:"getProfileFormKeys",value:function(){return Object.keys(this.settingForm.controls).filter((function(t){return"printerType"!==t&&"printerIpAddress"!==t&&!/payment/.test(t)}))}},{key:"getAdditionalProperty",value:function(t){return this.environment.PROFILE.find((function(e){return/additionalProperty/.test(e.key)&&e.key===t}))}}])&&e(r.prototype,o),i&&e(r,i),n}();at.\u0275fac=function(t){return new(t||at)(g.Jc(l.b),g.Jc(d.b),g.Jc(f.i),g.Jc(f.a),g.Jc(f.d),g.Jc(y.d),g.Jc(a.c))},at.\u0275cmp=g.Dc({type:at,selectors:[["app-setting"]],viewQuery:function(t,e){var n;1&t&&g.Cd(O,!0),2&t&&g.md(n=g.Xc())&&(e.intlTelInput=n.first)},decls:16,vars:12,consts:[[3,"isClear"],[1,"contents","scroll-horizontal"],[1,"container","p-3"],[1,"row"],[1,"col-12"],[3,"formGroup",4,"ngIf"],[1,"mr-auto"],["type","button",1,"btn","btn-outline-primary",3,"routerLink"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[3,"formGroup"],[1,"p-3","bg-white"],["class","form-group row",4,"ngFor","ngForOf"],[1,"form-group"],[1,"col-md-4","py-2","text-md-right"],[1,"col-md-8"],["formControlName","printerType",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],["type","button","class","btn btn-sm btn-primary py-2 mt-2",3,"click",4,"ngIf"],["type","text","formControlName","printerIpAddress","placeholder","0.0.0.0",1,"form-control"],["class","mt-2",4,"ngIf"],[1,"text-small","mt-2"],[1,"row","align-items-center"],[1,"py-2"],["type","text","formControlName","paymentCash","placeholder","0.0.0.0",1,"form-control"],["type","text","formControlName","paymentCreditcard","placeholder","0.0.0.0",1,"form-control"],["type","text","formControlName","paymentEmoney","placeholder","0.0.0.0",1,"form-control"],["type","text","formControlName","paymentCode","placeholder","0.0.0.0",1,"form-control"],[1,"form-group","row"],[1,"d-inline-flex","align-items-center"],[4,"ngIf"],["class","badge badge-danger ml-2",4,"ngIf"],["type","text","class","form-control",3,"formControlName","id","placeholder",4,"ngIf"],["class","form-control",3,"formControlName","change",4,"ngIf"],["class","form-control",3,"formControlName",4,"ngIf"],["type","email","class","form-control",3,"formControlName","id","placeholder",4,"ngIf"],["inputId","telephone","name","telephone","formControlName","telephone",3,"preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","tooltipField","phoneValidation","separateDialCode",4,"ngIf"],["class","form-control",3,"formControlName","id",4,"ngIf"],["class","form-control","placeholder","",3,"formControlName","id",4,"ngIf"],[1,"badge","badge-danger","ml-2"],["type","text",1,"form-control",3,"formControlName","id","placeholder"],[1,"form-control",3,"formControlName","change"],["value",""],[3,"value"],[1,"form-control",3,"formControlName"],["type","email",1,"form-control",3,"formControlName","id","placeholder"],["inputId","telephone","name","telephone","formControlName","telephone",3,"preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","tooltipField","phoneValidation","separateDialCode"],["intlTelInput",""],[1,"form-control",3,"formControlName","id"],["value","man"],["value","woman"],["placeholder","",1,"form-control",3,"formControlName","id"],[1,"mt-2"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["type","button",1,"btn","btn-sm","btn-primary","py-2","mt-2",3,"click"]],template:function(t,e){1&t&&(g.Kc(0,"app-header",0),g.Pc(1,"div",1),g.Pc(2,"div",2),g.Pc(3,"div",3),g.Pc(4,"div",4),g.vd(5,ct,53,33,"form",5),g.Oc(),g.Oc(),g.Oc(),g.Oc(),g.Pc(6,"app-footer"),g.Pc(7,"div",6),g.Pc(8,"button",7),g.xd(9),g.Zc(10,"translate"),g.Oc(),g.Oc(),g.Pc(11,"div"),g.Pc(12,"button",8),g.Wc("click",(function(){return e.onSubmit()})),g.Zc(13,"async"),g.xd(14),g.Zc(15,"translate"),g.Oc(),g.Oc(),g.Oc()),2&t&&(g.fd("isClear",!0),g.wc(5),g.fd("ngIf",e.settingForm),g.wc(3),g.fd("routerLink",e.environment.BASE_URL),g.wc(1),g.yd(g.ad(10,6,"setting.prev")),g.wc(3),g.fd("disabled",g.ad(13,8,e.isLoading)),g.wc(2),g.yd(g.ad(15,10,"setting.next")))},directives:[F.a,i.l,w.a,a.d,l.s,l.l,l.e,i.k,l.p,l.k,l.d,m.b,l.a,l.n,l.r,m.c],pipes:[y.c,i.b,P.a],styles:[""]});var st=[{path:"",component:s.a,children:[{path:"",component:at}]}],lt=function e(){t(this,e)};lt.\u0275mod=g.Hc({type:lt}),lt.\u0275inj=g.Gc({factory:function(t){return new(t||lt)},imports:[[a.e.forChild(st)],a.e]});var dt=function e(){t(this,e)};dt.\u0275mod=g.Hc({type:dt}),dt.\u0275inj=g.Gc({factory:function(t){return new(t||dt)},imports:[[i.c,lt,c.a]]})}}])}();